"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[251],{6251:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var n=a(7689),s=a(1689),r=a(7111),o=a(9439),i=a(2791),c=a(2007),u=a.n(c),l=a(8619),d=a(2062),m="Form_form__e1yzW",p="Form_input__FTtTw",h="Form_button__8NOIT",f="Form_label__8nx+5",_=a(3329);function b(){var e=(0,i.useState)(""),t=(0,o.Z)(e,2),a=t[0],n=t[1],r=(0,i.useState)(""),c=(0,o.Z)(r,2),u=c[0],b=c[1],x=(0,s.wY)().data,j=(0,s.Tn)(),C=(0,o.Z)(j,2),Z=C[0],v=C[1].error;return(0,i.useEffect)((function(){v&&(0,d.qQ)("".concat(v.status," ").concat(v.data.msg))}),[v]),(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:a,phone:u};0!==x.find((function(e){return e.name.toLowerCase()===a.toLowerCase()})).length?(0,d.Ys)("Contact ".concat(a," already exist")):Z(t),n(""),b("")},className:m,children:[(0,_.jsxs)("label",{className:f,children:["Name",(0,_.jsx)("input",{id:"id",className:p,type:"text",value:a,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return n(e.target.value)}}),""]}),(0,_.jsxs)("label",{className:f,children:["Number",(0,_.jsx)("input",{id:"number",type:"tel",className:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:u,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(e){return b(e.target.value)}})]}),(0,_.jsxs)("button",{type:"submit",className:h,children:[(0,_.jsx)(l.Z,{fontSize:"small"}),"  Add contact"]})]})}b.protoType={name:u().string.isRequired,number:u().number.isRequired};var x=a(5048),j=function(e){return e.filter},C=a(3375),Z=a(5747),v=a(1548),N=a(8190),g=a(872),y="ContactItem_itemText__mBoSI",z="ContactItem_button__YXZt-",A="ContactItem_buttonEdit__Qrd97",w="ContactItem_item__eUn5u",F="ContactItem_input__OnZwL";var S=function(e){var t=e.id,a=e.nameContact,n=e.numberContact,r=(0,i.useState)(!1),c=(0,o.Z)(r,2),u=c[0],l=c[1],m=(0,i.useState)(a),p=(0,o.Z)(m,2),h=p[0],f=p[1],b=(0,i.useState)(n),x=(0,o.Z)(b,2),j=x[0],S=x[1],k=(0,s.Nt)(),q=(0,o.Z)(k,2),I=q[0],T=q[1],E=T.isLoading,L=T.error,Q=(0,s.i)(),Y=(0,o.Z)(Q,2),B=Y[0],J=Y[1].error;(0,i.useEffect)((function(){L&&(0,d.qQ)("".concat(L.status," ").concat(L.data.msg))}),[L]),(0,i.useEffect)((function(){J&&((0,d.qQ)("".concat(J.status," ").concat(J.data.msg)),f(a),S(n))}),[J,a,n]);var M=function(e){e?B({id:t,name:h,phone:j}):(f(a),S(n)),l(!1)};return(0,_.jsxs)("li",{className:w,children:[u?(0,_.jsx)("input",{type:"text",name:"name",className:F,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:h,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return f(e.target.value)}}):(0,_.jsx)("span",{className:y,children:h}),u?(0,_.jsx)("input",{type:"tel",name:"number",className:F,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:j,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(e){return S(e.target.value)}}):(0,_.jsx)("span",{className:y,children:j}),!u&&(0,_.jsx)("button",{type:"button",className:A,"data-id":t,onClick:function(){return l(!0)},disabled:E,children:(0,_.jsx)(v.Z,{fontSize:"small"})}),u&&(0,_.jsx)("button",{type:"button",className:A,"data-id":t,onClick:function(){return M(!0)},disabled:E,children:(0,_.jsx)(N.Z,{fontSize:"small"})}),u&&(0,_.jsx)("button",{type:"button",className:z,"data-id":t,onClick:function(){return M(!1)},disabled:E,children:(0,_.jsx)(g.Z,{fontSize:"small"})}),(0,_.jsxs)("button",{type:"button",className:z,"data-id":t,onClick:function(){I(t)},disabled:E,children:[E&&(0,_.jsx)(C.Z,{size:15}),(0,_.jsx)(Z.Z,{fontSize:"small"})]})]},t)},k="ListContact_item__3ycDd",q=function(){var e=(0,s.wY)(),t=e.data,a=e.error,n=e.isFetching,r=(0,x.v9)(j);return(0,i.useEffect)((function(){a&&(0,d.qQ)("".concat(a.status," ").concat(a.data))}),[a]),(0,_.jsxs)("ul",{children:[n&&(0,_.jsx)(C.Z,{}),t&&t.filter((function(e){return null===e||void 0===e?void 0:e.name.toUpperCase().includes(r.toUpperCase())})).map((function(e){return(0,_.jsx)(S,{id:e.id,className:k,nameContact:e.name,numberContact:e.phone},e.id)}))]})},I=a(5577),T="Filter_label__vEd1E",E="Filter_input__N7T3z";var L=function(){var e=(0,x.v9)(j),t=(0,x.I0)();return(0,_.jsxs)("label",{className:T,children:["Find contact by name",(0,_.jsx)("input",{id:"name",type:"text",name:"filter",className:E,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:e,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(e){return a=e.target.value,t((0,I.T)(a));var a}})]})};function Q(){var e=(0,s.wY)().data;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(n.Z5,{children:(0,_.jsx)(n.AW,{path:"add",element:(0,_.jsx)(r.Z,{title:"Phonebook",children:(0,_.jsx)(b,{})})})}),(0,_.jsxs)(r.Z,{title:"Contacts",children:[e&&e.length>=2&&(0,_.jsx)(L,{}),(0,_.jsx)(q,{})]})]})}}}]);
//# sourceMappingURL=251.1e3627fe.chunk.js.map